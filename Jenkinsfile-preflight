pipeline { 
  agent any 
  stages{ 
    stage('Prerequisites'){ 
      steps { 
        echo "Prerequisites" 
        sh 'ssh -tq -o "BatchMode yes" localhost "export TERM=vt100 && export PATH=/Library/Frameworks/Python.framework/Versions/2.7/bin:/Users/tzheng/Downloads/google-cloud-sdk/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin && ~/cloud/cloudworks-tools/gocwbdeps.sh --noop=false"'
//        sh '''#!/bin/bash
//             export TERM=vt100
//        ]    export PATH=/Library/Frameworks/Python.framework/Versions/2.7/bin:/Users/tzheng/Downloads/google-cloud-sdk/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin
//             . ~/.bash_profile 
//              ~/cloud/cloudworks-tools/gocwbdeps.sh --noop=false
//        '''      

      } 
    } 
    stage('Check Forwarder FQDN'){ 
      steps { 
        echo "Step 1: Determine If Customer Forwarders Are Configured To Forward Events To Correct FQDNs" 
        timeout(time:5, unit:'MINUTES') {
           input message: "Are Customer Forwarders Configured To Forward Events To Correct FQDNs", ok: "Yes"
        }   
      } 
   } 
   stage('Build'){ 
     steps { 
       echo "Building ..." 
     }  
     post { 
       success { 
         echo "Now Archiving..." 
       } 
     } 
    }
    stage('Archive to Nexus'){ 
      steps { 
        echo "Code Archive to Nexus" 
      } 
    } 
  } 
}
